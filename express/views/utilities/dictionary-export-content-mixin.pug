mixin dictionary-export-content(dictionaryId)
  .content-hold-prerequisites
    #offset-main.main-container.mt-2
      form#dictionary-export(
        method="post"
        action=`/api/v1/dictionaries/${dictionaryId}/export-begin`
      )
        .row.validity.align-items-center
          .col-xxl-6.col-md-7
            span.header-table-wrapper= t('Veljavnost')
              ul.d-sm-flex.validity-row.ps-2.mb-0.mb-md-2
                .options-width-box
                  li.form-check.radio-button.ms-0.ps-3
                    input#allKeys.form-check-input(
                      type="radio"
                      name="isValidFilter"
                      checked
                    )
                    label.radio-button-labels.form-check-label.ms-0.text-nowrap(
                      for="allKeys"
                    )
                      = t('Vsi slovarski sestavki')
                .options-another-box
                  li.form-check.radio-button.ms-0.ps-3
                    input#validKeys.form-check-input(
                      type="radio"
                      name="isValidFilter"
                      value="true"
                    )
                    label.radio-button-labels.form-check-label.ms-0(
                      for="validKeys"
                    )
                      = t('Veljavni')
                .options-another-box
                  li.form-check.radio-button.ms-0.ps-3
                    input#notValidKeys.form-check-input(
                      type="radio"
                      name="isValidFilter"
                      value="false"
                    )
                    label.radio-button-labels.form-check-label.ms-0(
                      for="notValidKeys"
                    )
                      = t('Neveljavni')
          .col.mb-3.mb-md-0
            span.name-info-txt= t('Izberite, katere slovarske sestavke želite izpisati glede na njihovo veljavnost.')
        .row.posted.align-items-center
          .col-xxl-6.col-md-7
            span.header-table-wrapper= t('Objavljeno')
              ul.d-sm-flex.validity-row.ps-2.mb-0.mb-md-2
                .options-width-box
                  li.form-check.radio-button.ms-0.ps-3
                    input#allPostedKeys.form-check-input(
                      type="radio"
                      name="isPublishedFilter"
                      checked
                    )
                    label.radio-button-labels.form-check-label.ms-0.text-nowrap(
                      for="allPostedKeys"
                    )
                      = t('Vsi slovarski sestavki')
                .options-another-box
                  li.form-check.radio-button.ms-0.ps-3
                    input#onlyPosted.form-check-input(
                      type="radio"
                      name="isPublishedFilter"
                      value="true"
                    )
                    label.radio-button-labels.form-check-label.ms-0(
                      for="onlyPosted"
                    )
                      = t('Objavljeni')
                .options-another-box
                  li.form-check.radio-button.ms-0.ps-3
                    input#notPosted.form-check-input(
                      type="radio"
                      name="isPublishedFilter"
                      value="false"
                    )
                    label.radio-button-labels.form-check-label.ms-0(
                      for="notPosted"
                    )
                      = t('Neobjavljeni')
          .col.mb-3.mb-md-0
            span.name-info-txt= t('Izberite, ali želite izpisati samo objavljene ali tudi neobjavljene slovarske sestavke.')
        .row.phases.align-items-center
          .col-xxl-6.col-md-7
            span.header-table-wrapper= t('Faze urejanja')
              ul.d-sm-flex.validity-row.ps-2.mb-0.mb-md-2
                .options-width-box
                  li.form-check.radio-button.ms-0.ps-3
                    input#allEditedKeys.form-check-input(
                      type="radio"
                      name="statusFilter"
                      checked
                    )
                    label.radio-button-labels.form-check-label.ms-0.text-nowrap(
                      for="allEditedKeys"
                    )
                      = t('Vsi slovarski sestavki')
                .options-another-box
                  li.form-check.radio-button.ms-0.ps-3
                    input#editedKeys.form-check-input(
                      type="radio"
                      name="statusFilter"
                      value="complete"
                    )
                    label.radio-button-labels.form-check-label.ms-0(
                      for="editedKeys"
                    )
                      = t('Urejeni')
                .options-another-box
                  li.form-check.radio-button.ms-0.ps-3
                    input#inEditing.form-check-input(
                      type="radio"
                      name="statusFilter"
                      value="inEdit"
                    )
                    label.radio-button-labels.form-check-label.ms-0(
                      for="inEditing"
                    )
                      = t('V urejanju')
          .col.mb-3.mb-md-0
            span.name-info-txt= t('Izberite, ali želite izpisati vse slovarske sestavke ali samo tiste, ki so v določeni fazi urejanja.')
        .row.proffesional-check.align-items-center
          .col-xxl-6.col-md-7
            span.header-table-wrapper= t('Strokovni pregled')
              ul.d-sm-flex.validity-row.ps-2.mb-0.mb-md-2
                .options-width-box
                  li.form-check.radio-button.ms-0.ps-3
                    input#allChecked.form-check-input(
                      type="radio"
                      name="isTerminologyReviewedFilter"
                      checked
                    )
                    label.radio-button-labels.form-check-label.ms-0(
                      for="allChecked"
                    )
                      = t('Vsi slovarski sestavki')
                .options-another-box
                  li.form-check.radio-button.ms-0.ps-3
                    input#onlyProffesionallyChecked.form-check-input(
                      type="radio"
                      name="isTerminologyReviewedFilter"
                      value="true"
                    )
                    label.radio-button-labels.form-check-label.ms-0(
                      for="onlyProffesionallyChecked"
                    )
                      = t('Pregledani')
                .options-another-box
                  li.form-check.radio-button.ms-0.ps-3
                    input#notProffesionallyChecked.form-check-input(
                      type="radio"
                      name="isTerminologyReviewedFilter"
                      value="false"
                    )
                    label.radio-button-labels.form-check-label.ms-0(
                      for="notProffesionallyChecked"
                    )
                      = t('Nepregledani')
          .col.mb-3.mb-md-0
            span.name-info-txt= t('Izberite, ali želite izpisati samo strokovno pregledane slovarske sestavke.')
        .row.terminology-check.align-items-center
          .col-xxl-6.col-md-7
            span.header-table-wrapper= t('Jezikovni pregled')
              ul.d-sm-flex.validity-row.ps-2.mb-0.mb-md-2
                .options-width-box
                  li.form-check.radio-button.ms-0.ps-3
                    input#allGramaticallyChecked.form-check-input(
                      type="radio"
                      name="isLanguageReviewedFilter"
                      checked
                    )
                    label.radio-button-labels.form-check-label.ms-0(
                      for="allGramaticallyChecked"
                    )
                      = t('Vsi slovarski sestavki')
                .options-another-box
                  li.form-check.radio-button.ms-0.ps-3
                    input#onlyGramaticallyChecked.form-check-input(
                      type="radio"
                      name="isLanguageReviewedFilter"
                      value="true"
                    )
                    label.radio-button-labels.form-check-label.ms-0(
                      for="onlyGramaticallyChecked"
                    )
                      = t('Pregledani')
                .options-another-box
                  li.form-check.radio-button.ms-0.ps-3
                    input#notGramaticallyChecked.form-check-input(
                      type="radio"
                      name="isLanguageReviewedFilter"
                      value="false"
                    )
                    label.radio-button-labels.form-check-label.ms-0(
                      for="notGramaticallyChecked"
                    )
                      = t('Nepregledani')
          .col.mb-3.mb-md-0
            span.name-info-txt= t('Izberite, ali želite izpisati samo jezikovno pregledane slovarske sestavke.')
        .file-type
          span.new-user-info= t('FORMAT ZAPISA')
          .row.align-items-center
            .col-xxl-6.col-md-7
              .form-check.radio-button.ms-2.ps-3
                input#file-format-xml.form-check-input(
                  type="radio"
                  name="exportFileFormat"
                  value="xml"
                  checked
                )
                label.form-check-label.ms-0(for="file-format-xml") XML
              .form-check.radio-button.ms-3
                input#file-format-csv.form-check-input(
                  type="radio"
                  name="exportFileFormat"
                  value="csv"
                )
                label.form-check-label.ms-0(for="file-format-csv") CSV
              .form-check.radio-button.ms-3
                input#file-format-tsv.form-check-input(
                  type="radio"
                  name="exportFileFormat"
                  value="tsv"
                )
                label.form-check-label.ms-0(for="file-format-tsv") TSV
              .form-check.radio-button.ms-3
                input#file-format-txt.form-check-input(
                  type="radio"
                  name="exportFileFormat"
                  value="tbx"
                )
                label.form-check-label.ms-0(for="file-format-txt") TBX
            .col.mb-3.mb-md-0
              span.name-info-txt= t('Izberite format izpisa terminološkega slovarja.')
          button.btn.btn-primary.mt-4= t('IZVOZI')
      .latest-exports.mt-4
        input#dictionary-id(hidden value=dictionary.id)
        .d-flex.w-100.justify-content-between
          .d-flex
            span.info-text-for-button= t('Zadnji izvozi')
          .d-flex
            include /utilities/pager
            +pager

        -
          const localeOptions = {
            day: '2-digit',
            month: '2-digit',
            year: 'numeric',
            hour: '2-digit',
            minute: '2-digit'
          }
        if results.length
          .table-responsive
            table.styled-table
              thead
                tr#thead
                  th= t('DATUM')
                  th= t('VRSTA')
                  th= t('ŠT. GESEL')
                  th= t('STATUS')
              tbody#page-results 
                each result in results
                  tr
                    - const date = new Date(result.time_created).toLocaleDateString('sl-SL', localeOptions)
                    td= date
                    td= result.export_file_format
                    td= result.entry_count
                    td
                      if (result.status === 'finished')
                        a.btn.btn-primary(
                          href=`/slovarji/export-download/${result.id}`
                        )= t('Shrani')
        .mt-3
          p!= t('Shemo za format xml si prenesete <a href="/slovarji/xml-schema" target="_blank">tukaj</a>.')
      include /common/footer
        //- .d-block.w-100
        //-   include /utilities/table-mixin
        //- -
        //-   const headerRow = ['Datum', 'Vrsta', 'Št. gesel', 'Status']
        //-   const dataRows = exportsList.map(e => [
        //-     e.dateCreated,
        //-     e.typeString,
        //-     e.entryCount,
        //-     e.status,
        //-     e.status !== 'finished' ? '' : {link: {href: `/slovarji/export-download/${e.id}`, content:"Shrani"}}
        //-   ])
        //- +tableHeader(headerRow, dataRows)
